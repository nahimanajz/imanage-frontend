(this["webpackJsonpimanage-react-app"]=this["webpackJsonpimanage-react-app"]||[]).push([[0],{123:function(e,t,n){},253:function(e,t,n){"use strict";n.r(t);var a=n(2),s=n(1),c=n(28),r=n.n(c),i=(n(123),n(8)),l=(n(124),function(){return JSON.parse(localStorage.getItem("userInfo"))}),o=l()?{Authorization:"Bearer "+l().token}:null,j=l()?l().user.id:null,d=l()?l().user.name:null;var b=function(){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"content",children:[Object(a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1040 320",className:"wave f-w",children:Object(a.jsx)("path",{fill:"#28365567","fill-opacity":"1",d:"M0,160L60,170.7C120,181,240,203,360,181.3C480,160,600,96,720,74.7C840,53,960,75,1080,96C1200,117,1320,139,1380,149.3L1440,160L1440,320L1380,320C1320,320,1200,320,1080,320C960,320,840,320,720,320C600,320,480,320,360,320C240,320,120,320,60,320L0,320Z"})}),Object(a.jsx)("h2",{children:"iManage helps you to:"}),Object(a.jsxs)("ol",{children:[Object(a.jsx)("li",{children:"Record Your expenses"}),Object(a.jsx)("li",{children:"Manage Your personal loans "}),Object(a.jsx)("li",{children:"Know Your debits and Credits"})]})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{className:"content text-center",children:"Why imanage"}),Object(a.jsxs)("div",{className:"three-col",children:[Object(a.jsxs)("div",{className:"box animate",children:[Object(a.jsx)("h2",{className:"title text-center",children:"Expenses"}),Object(a.jsx)("p",{children:" Sometimes it's really confusing to know How you used your money"}),Object(a.jsx)("p",{children:"But it should no longer be a problem, iManage helps you to Calculate those expenditure"})]}),Object(a.jsxs)("div",{className:"box",children:[Object(a.jsx)("h2",{className:"title text-center",children:"Debits"}),Object(a.jsx)("p",{children:"Calculate money you owe your friends and time to pay them before you look bad among them "})]}),Object(a.jsxs)("div",{className:"box",children:[Object(a.jsx)("h2",{className:"title text-center",children:"Credits"}),Object(a.jsx)("p",{children:" Did anybody ask you to pay him then you don't recognize when ? and how much he gave you ?"}),Object(a.jsx)("p",{children:" Use imanage to say Good bye to the confusions like those"})]})]})]})]})},u=n(12),h=n(21),x=n(5),O=n.n(x),m=n(9),p=n(19),g=n.n(p),f="USER_REGISTER_REQUEST",y="USER_REGISTER_SUCCESS",v="USER_REGISTER_FAIL",S="USER_LOGIN_REQUEST",E="USER_LOGIN_SUCCESS",N="USER_LOGIN_FAIL",C="https://fathomless-taiga-31341.herokuapp.com/api",w=n(59),_=n.n(w),L=function(){return document.querySelector(".modal-bg").classList.add("open")},I=function(){return document.querySelector(".modal-bg").classList.remove("open")},P=function(){return document.querySelector(".sidebar").classList.toggle("open")},T=function(){return document.querySelector(".modal-sm").classList.toggle("active")},A=function(){return document.querySelector(".modal-sm").classList.remove("active")},D=function(e,t){!0===e.error?t.forEach((function(e){return i.a.error(e[1])})):i.a.success(e.message)},k=function(e){return _()(e).format("YYYY-MM-DD HH:mm:ss")},R=function(e){return 0===e?"No payment":e},F=(n(149),n(33)),U=F.b().shape({name:F.d().required(),email:F.d().email().required(),phone:F.a().required(),balance:F.a().required("fill in zero if you have no money"),password:F.d().required("Please enter your password").matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#\$%\^&\*])(?=.{6,})/,"Must Contain 6 Characters, One Uppercase, One Lowercase, One Number and One Special Case Character"),password_confirmation:F.d().oneOf([F.c("password"),null],"Passwords must match")}),q=n(116),M=n(20),Y=n(274),B=n(275),V=n(271),Q=function(){return Object(a.jsxs)("main",{children:[Object(a.jsx)("ul",{className:"aside sidemenu white-box",children:Object(a.jsxs)("li",{children:[" ",Object(a.jsx)(M.a,{height:"400px"}),"     "]})}),Object(a.jsx)("ul",{className:"container",children:Object(a.jsxs)("table",{className:"f-w white-box mr-3",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsxs)("th",{children:[Object(a.jsx)(M.a,{})," "]}),Object(a.jsxs)("th",{children:[Object(a.jsx)(M.a,{})," "]}),Object(a.jsxs)("th",{children:[Object(a.jsx)(M.a,{})," "]}),Object(a.jsxs)("th",{children:[Object(a.jsx)(M.a,{})," "]}),Object(a.jsxs)("th",{children:[Object(a.jsx)(M.a,{})," "]}),Object(a.jsxs)("th",{children:[Object(a.jsx)(M.a,{})," "]}),Object(a.jsxs)("th",{children:[Object(a.jsx)(M.a,{})," "]})]})}),Object(a.jsx)("tbody",{children:[1,3,4,5,2,2,2,2,2].map((function(e){return Object(a.jsxs)("tr",{children:[Object(a.jsxs)("td",{children:[Object(a.jsx)(M.a,{})," "]}),Object(a.jsxs)("td",{children:[Object(a.jsx)(M.a,{})," "]}),Object(a.jsxs)("td",{children:[Object(a.jsx)(M.a,{})," "]}),Object(a.jsxs)("td",{children:[Object(a.jsx)(M.a,{})," "]}),Object(a.jsxs)("td",{children:[" ",Object(a.jsx)(M.a,{})," "]}),Object(a.jsxs)("td",{children:[" ",Object(a.jsx)(M.a,{})," "]}),Object(a.jsxs)("td",{children:[Object(a.jsx)(M.a,{})," "]})]})}))})]})})]})},z=function(){var e=Object(V.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#d2c4a0"}}}))();return Object(a.jsx)(Y.a,{className:e.backdrop,open:!0,children:Object(a.jsx)(B.a,{color:"inherit"})})};var G=function(e){var t=Object(u.c)((function(e){return e.userRegister})),n=t.loading,s=(t.error,Object(u.b)()),c=Object(q.a)({initialValues:{name:"",email:"",phone:"",balance:"",password:"",password_confirmation:""},validationSchema:U,onSubmit:function(e){var t;s((t=e,function(){var e=Object(m.a)(O.a.mark((function e(n){var a,s,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n({type:f,payload:t}),e.prev=1,e.next=4,g.a.post(C+"/users",t);case 4:return a=e.sent,s=a.data,c=Object.entries(s.message),n({type:y,payload:s}),e.abrupt("return",D(s,c));case 11:e.prev=11,e.t0=e.catch(1),n({type:v,payload:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()))}}),r=c.handleSubmit,i=c.handleChange,l=(c.values,c.errors);return Object(a.jsxs)("main",{children:[Object(a.jsx)("div",{className:"aside",children:Object(a.jsx)("ul",{children:n?Object(a.jsx)(z,{}):""})}),Object(a.jsx)("form",{onSubmit:r,className:"container",children:Object(a.jsxs)("ul",{className:"form-container",children:[Object(a.jsx)("li",{className:"text-center title",children:"Sign up "}),Object(a.jsxs)("li",{children:[Object(a.jsx)("label",{htmlFor:"name",children:"  name "}),Object(a.jsx)("input",{type:"text",name:"name",onChange:i}),l.name&&Object(a.jsxs)("small",{children:[" ",l.name]})]}),Object(a.jsxs)("li",{children:[Object(a.jsx)("label",{htmlFor:"email",children:"  Email "}),Object(a.jsx)("input",{type:"email",name:"email",id:"email",onChange:i}),l.email&&Object(a.jsxs)("small",{children:[" ",l.email]})]}),Object(a.jsxs)("li",{children:[Object(a.jsx)("label",{htmlFor:"phone",children:"  Phone "}),Object(a.jsx)("input",{type:"text",name:"phone",id:"phone",onChange:i}),l.phone&&Object(a.jsxs)("small",{children:[" ",l.phone]})]}),Object(a.jsxs)("li",{children:[Object(a.jsx)("label",{htmlFor:"balance",children:"  Balance "}),Object(a.jsx)("input",{type:"text",name:"balance",id:"balance",onChange:i}),l.balance&&Object(a.jsxs)("small",{children:[" ",l.balance]})]}),Object(a.jsxs)("li",{children:[Object(a.jsx)("label",{htmlFor:"password",children:"Password"}),Object(a.jsx)("input",{type:"password",name:"password",id:"password",onChange:i}),l.password&&Object(a.jsxs)("small",{children:[" ",l.password]})]}),Object(a.jsxs)("li",{children:[Object(a.jsx)("label",{htmlFor:"rePassword",children:"confirm Password"}),Object(a.jsx)("input",{type:"password",name:"password_confirmation",id:"password_confirmation",onChange:i}),l.password_confirmation&&Object(a.jsxs)("small",{children:[" ",l.password_confirmation]})]}),Object(a.jsx)("li",{children:Object(a.jsx)("button",{className:"button primary",type:"submit",children:" Sign Up"})}),Object(a.jsx)("li",{children:Object(a.jsxs)("div",{className:"flex-inline",children:[Object(a.jsx)("label",{children:"Already has an Account ?"}),Object(a.jsx)("label",{children:Object(a.jsx)(h.b,{to:"/login",className:"text-link",children:"   Sign in "})})]})})]})})]})},X=n(4);var H=function(e){var t=Object(s.useState)(""),n=Object(X.a)(t,2),c=n[0],r=n[1],l=Object(s.useState)(""),o=Object(X.a)(l,2),j=o[0],d=o[1],b=Object(u.b)();return Object(a.jsxs)("main",{children:[Object(a.jsx)("div",{className:"aside"}),Object(a.jsx)("form",{onSubmit:function(e){e.preventDefault(),b(function(e,t){return function(){var n=Object(m.a)(O.a.mark((function n(a){var s,c;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a({type:S,payload:{email:e,password:t}}),n.prev=1,n.next=4,g.a.post(C+"/auth/user",{email:e,password:t});case 4:s=n.sent,(c=s.data).error?i.a.error(c.message):(localStorage.setItem("userInfo",JSON.stringify(c)),a({type:E,payload:c.user}),window.location.assign("/expenses")),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(1),console.log(n.t0.message),i.a.error("Please provide email and password");case 13:case"end":return n.stop()}}),n,null,[[1,9]])})));return function(e){return n.apply(this,arguments)}}()}(c,j))},className:"container",children:Object(a.jsxs)("ul",{className:"form-container",children:[Object(a.jsx)("li",{children:Object(a.jsx)("h2",{className:"text-center",children:"Login"})}),Object(a.jsx)("li",{}),Object(a.jsxs)("li",{children:[Object(a.jsx)("label",{htmlFor:"email",children:"  Email "}),Object(a.jsx)("input",{type:"email",name:"email",id:"email",onChange:function(e){return r(e.target.value)}})]}),Object(a.jsxs)("li",{children:[Object(a.jsx)("label",{htmlFor:"password",children:"Password"}),Object(a.jsx)("input",{type:"password",name:"password",id:"password",onChange:function(e){return d(e.target.value)}})]}),Object(a.jsx)("li",{children:Object(a.jsx)("button",{className:"button primary",type:"submit",children:" Sign in"})}),Object(a.jsx)("li",{children:Object(a.jsxs)("div",{className:"flex-inline",children:[Object(a.jsx)("label",{children:"New to iManage?"}),Object(a.jsx)("label",{children:Object(a.jsx)(h.b,{to:"/register",className:"text-link",children:"   Sign up "})})]})})]})})]})},J="DEBIT_SAVE_SUCCESS",Z="DEBIT_SAVE_FAIL",K="DEBIT_LIST_REQUEST",W="DEBIT_LIST_SUCCESS",$="DEBIT_LIST_FAIL",ee="DEBIT_PAY_REQUEST",te="DEBIT_PAY_SUCCESS",ne="DEBIT_PAY_FAIL",ae=n(36),se=function(e,t,n){var a=t*n,s=a-n;return e.slice(s,a)},ce=function(e){for(var t=e.dataPerPage,n=e.totalData,s=e.paginate,c=[],r=0;r<Math.ceil(n/t);r++)c.push(r);return Object(a.jsxs)("ul",{className:"f-w",style:{marginTop:"32px"},children:[" ",c.map((function(e){return Object(a.jsx)("li",{className:"page-item p-1",style:{padding:"16px"},children:Object(a.jsx)("a",{onClick:function(){return s(e)},className:"page-links",children:++e})},e)}))]})};var re=function(e){var t=Object(s.useState)(""),n=Object(X.a)(t,2),c=n[0],r=n[1],l=Object(s.useState)(""),d=Object(X.a)(l,2),b=d[0],h=d[1],x=Object(s.useState)(""),p=Object(X.a)(x,2),f=p[0],y=p[1],v=Object(s.useState)(""),S=Object(X.a)(v,2),E=S[0],N=S[1],w=Object(s.useState)(""),_=Object(X.a)(w,2),P=_[0],F=_[1],U=Object(s.useState)(0),q=Object(X.a)(U,2),M=q[0],Y=q[1],B=Object(u.c)((function(e){return e.debits})),V=B.debits,z=B.isLoading,G=B.error,H=B.debitsLoading,$=B.debitsError,ee=Object(u.b)();Object(s.useEffect)((function(){return ee(function(){var e=Object(m.a)(O.a.mark((function e(t){var n,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:K}),e.prev=1,e.next=4,g.a.get("".concat(C,"/debits"),{headers:o});case 4:n=e.sent,a=n.data,t({type:W,payload:a}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t({type:K,payload:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}())}),[]);var re=0,ie=Object(s.useState)(1),le=Object(X.a)(ie,2),oe=le[0],je=le[1],de=Object(s.useState)(7),be=Object(X.a)(de,1)[0];return H?Object(a.jsx)(Q,{}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("ul",{className:"aside sidemenu white-box",children:[Object(a.jsx)("li",{children:" Debits"}),Object(a.jsx)("li",{onClick:L,children:"Add debits"})]}),Object(a.jsxs)("ul",{className:"container white-box",children:[$&&Object(a.jsx)("div",{children:$}),Object(a.jsxs)("table",{className:"f-w",id:"example",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"No"}),Object(a.jsx)("th",{children:"Debitor"}),Object(a.jsx)("th",{children:"phone"}),Object(a.jsx)("th",{children:"Amount"}),Object(a.jsx)("th",{children:"Current Payment"}),Object(a.jsx)("th",{children:"Remaining Days To pay"}),Object(a.jsx)("th",{children:"Actions"})]})}),Object(a.jsx)("tbody",{children:V&&V.length>0&&se(V,oe,be).map((function(e){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:++re}),Object(a.jsx)("td",{children:e.debitor}),Object(a.jsxs)("td",{children:[e.phone," "]}),Object(a.jsxs)("td",{children:[e.amount," "]}),Object(a.jsxs)("td",{children:[" ",R(e.payedAmount)]}),Object(a.jsxs)("td",{children:[" ",e.remainingDays]}),Object(a.jsx)("td",{children:Object(a.jsx)("button",{className:"button-sm",onClick:function(){return function(e){return T()?Y(e.id):T()}(e)},children:"Edit"})})]},e.id)}))})]}),Object(a.jsx)(ce,{dataPerPage:be,totalData:V.length,paginate:function(e){return je(e)}})]}),Object(a.jsx)("div",{className:"modal-bg",children:Object(a.jsxs)("div",{className:"modal white-box",children:[Object(a.jsxs)("div",{className:"bg-primary p-1",children:[Object(a.jsx)("span",{onClick:I,className:"close",children:Object(a.jsx)(ae.a,{})}),Object(a.jsx)("h2",{className:"text-center",children:"Record A Debit"})]}),Object(a.jsxs)("div",{children:[z&&Object(a.jsx)("div",{children:"Loading ..."}),G&&Object(a.jsxs)("div",{children:[" ",G]})]}),Object(a.jsx)("form",{className:"container",onSubmit:function(e){e.preventDefault();var t,n={debitor:c,phone:b,timeToPay:k(f),amount:E,user_id:j};ee((t=n,function(){var e=Object(m.a)(O.a.mark((function e(n){var a,s,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.post("".concat(C,"/debits"),t,{headers:o});case 3:if(a=e.sent,s=a.data,c=Object.entries(s.message),!0!==s.error){e.next=10;break}return e.abrupt("return",D(s,c));case 10:n({type:J,payload:s}),i.a.success(s.message);case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),n({type:Z,payload:e.t0.message}),i.a.error(e.t0.message);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}()))},children:Object(a.jsxs)("ul",{className:"form-container",children:[Object(a.jsxs)("li",{children:[Object(a.jsx)("label",{htmlFor:"debitor",children:"  Debitor "}),Object(a.jsx)("input",{type:"text",name:"debitor",id:"debitor",onChange:function(e){return r(e.target.value)},required:!0})]}),Object(a.jsxs)("li",{children:[Object(a.jsx)("label",{htmlFor:"phone",children:"  Phone "}),Object(a.jsx)("input",{type:"phone",name:"phone",id:"phone",onChange:function(e){return h(e.target.value)},required:!0})]}),Object(a.jsxs)("li",{children:[Object(a.jsx)("label",{htmlFor:"amount",children:" Amount "}),Object(a.jsx)("input",{type:"number",name:"amount",id:"amount",onChange:function(e){return N(e.target.value)},required:!0})]}),Object(a.jsxs)("li",{children:[Object(a.jsx)("label",{htmlFor:"timeToPay",children:" Payment Date "}),Object(a.jsx)("input",{type:"datetime-local",name:"timeToPay",id:"timeToPay",onChange:function(e){return y(e.target.value)},required:!0})]}),Object(a.jsx)("li",{children:Object(a.jsx)("button",{className:"button bg-primary",type:"submit",children:"SAVE Debit"})})]})})]})}),Object(a.jsx)("div",{className:"modal-sm",children:Object(a.jsx)("form",{className:"form-container white-box",onSubmit:function(e){var t;A(),e.preventDefault(),ee((t={debit_id:M,amount:P},function(){var e=Object(m.a)(O.a.mark((function e(n){var a,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.post("".concat(C,"/pay/debit"),t,{headers:o});case 3:a=e.sent,s=a.data,n({type:te,payload:s}),i.a.success(s.message),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(0),n({type:ne,payload:e.t0.message}),i.a.error(e.t0.message),console.log(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()))},children:Object(a.jsxs)("ul",{className:"form",children:[Object(a.jsxs)("li",{children:[Object(a.jsx)("label",{children:"Amount"}),Object(a.jsx)("input",{type:"text",name:"AmountToPay",onChange:function(e){return F(e.target.value)}})]}),Object(a.jsx)("li",{children:Object(a.jsx)("button",{className:"btn-sm",children:"Pay"})})]})})})]})},ie="EXPENSE_SUCCESS_REQUEST",le="EXPENSE_FAIL_REQUEST",oe="FECTCH_EXPENSES_REQUEST",je="FECTCH_EXPENSES_SUCCESS",de="FECTCH_EXPENSES_FAIL";var be=function(e){var t=Object(s.useState)(""),n=Object(X.a)(t,2),c=n[0],r=n[1],l=Object(s.useState)(""),d=Object(X.a)(l,2),b=d[0],h=d[1],x=Object(s.useState)("DUMMY DESCRIPTION"),p=Object(X.a)(x,1)[0],f=Object(s.useState)(""),y=Object(X.a)(f,2),v=(y[0],y[1],Object(u.c)((function(e){return e.expenses}))),S=v.loading,E=v.error,N=v.expenses,w=v.expenseLoading,P=v.expensesError,T=Object(u.b)();Object(s.useEffect)((function(){return T(function(){var e=Object(m.a)(O.a.mark((function e(t){var n,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:oe}),e.prev=1,e.next=4,g.a.get("".concat(C,"/expenses"),{headers:o});case 4:n=e.sent,a=n.data,t({type:je,payload:a}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t({type:de,payload:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}())}),[]);var A=0,k=Object(s.useState)(1),R=Object(X.a)(k,2),F=R[0],U=R[1],q=Object(s.useState)(7),M=Object(X.a)(q,1)[0];return S?Object(a.jsx)(Q,{}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("ul",{className:"aside sidemenu white-box",children:[Object(a.jsx)("li",{children:" Expenditures"}),Object(a.jsx)("li",{onClick:L,children:"Add expenditure"})]}),Object(a.jsxs)("ul",{className:"container white-box",children:[E&&Object(a.jsx)("div",{children:E}),Object(a.jsxs)("table",{className:"f-w example",id:"example",children:[Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"No"}),Object(a.jsx)("th",{children:"Date"}),Object(a.jsx)("th",{children:"Category"}),Object(a.jsx)("th",{children:"Amount"})]}),Object(a.jsx)("tbody",{children:N&&N.length>0&&se(N,F,M).map((function(e){return Object(a.jsxs)("tr",{children:[Object(a.jsxs)("td",{children:[" ",++A," "]}),Object(a.jsxs)("td",{children:[_()(e.date).format("dddd, MMMM Do YYYY, h:mm:ss a")||e.created_At," "]}),Object(a.jsxs)("td",{children:[e.category,"  "]}),Object(a.jsxs)("td",{children:[e.amount,"  "]})]},e.id)}))})]}),Object(a.jsx)(ce,{dataPerPage:M,totalData:N.length,paginate:function(e){return U(e)}})]}),Object(a.jsx)("div",{className:"modal-bg",children:Object(a.jsxs)("div",{className:"modal white-box",children:[Object(a.jsxs)("div",{className:"bg-primary p-1",children:[Object(a.jsxs)("span",{onClick:I,className:"close",children:[" ",Object(a.jsx)(ae.a,{})]}),Object(a.jsx)("h2",{className:"text-center",children:"Record Expense"})]}),w&&Object(a.jsx)("div",{className:"warning",children:"expenseLoading"}),P&&Object(a.jsxs)("div",{className:"warning",children:[" ",P]}),Object(a.jsx)("form",{className:"container",onSubmit:function(e){e.preventDefault(),T(function(e,t,n,a){return function(){var s=Object(m.a)(O.a.mark((function s(c){var r,l,j;return O.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,g.a.post("".concat(C,"/expenses"),{amount:e,category:t,user_id:n,description:a},{headers:o});case 3:if(r=s.sent,l=r.data,j=Object.entries(l.message),!0!==l.error){s.next=10;break}return s.abrupt("return",D(l,j));case 10:400===l.status?i.a.warning(l.message):(c({type:ie,payload:l.expense}),i.a.success(l.message));case 11:s.next=17;break;case 13:s.prev=13,s.t0=s.catch(0),c({type:le,payload:s.t0.message}),i.a.error(s.t0.message);case 17:case"end":return s.stop()}}),s,null,[[0,13]])})));return function(e){return s.apply(this,arguments)}}()}(c,b,j,p))},children:Object(a.jsxs)("ul",{className:"form-container",children:[Object(a.jsxs)("li",{children:[Object(a.jsx)("label",{htmlFor:"amount",children:" Amount "}),Object(a.jsx)("input",{type:"text",name:"amount",id:"amount",onChange:function(e){return r(e.target.value)},required:!0})]}),Object(a.jsxs)("li",{children:[Object(a.jsx)("label",{htmlFor:"category",children:"  Category "}),Object(a.jsx)("input",{type:"text",name:"category",id:"category",onChange:function(e){return h(e.target.value)},required:!0})]}),Object(a.jsx)("li",{children:Object(a.jsx)("button",{type:"submit",className:"button bg-primary",children:"SAVE"})})]})})]})})]})},ue=n(11),he="CREDIT_SAVE_SUCCESS",xe="CREDIT_SAVE_FAIL",Oe="CREDIT_LIST_REQUEST",me="CREDIT_LIST_SUCCESS",pe="CREDIT_LIST_FAIL",ge="CREDIT_PAY_REQUEST",fe="CREDIT_PAY_SUCCESS",ye="CREDIT_PAY_FAIL",ve=function(){var e=Object(s.useState)(""),t=Object(X.a)(e,2),n=t[0],c=t[1],r=Object(s.useState)(""),l=Object(X.a)(r,2),d=l[0],b=l[1],h=Object(s.useState)(""),x=Object(X.a)(h,2),p=x[0],f=x[1],y=Object(s.useState)(""),v=Object(X.a)(y,2),S=v[0],E=v[1],N=Object(u.b)();return Object(a.jsx)("div",{className:"modal-bg",children:Object(a.jsxs)("div",{className:"modal white-box",children:[Object(a.jsxs)("div",{className:"bg-primary p-1",children:[Object(a.jsx)("span",{onClick:I,className:"close",children:Object(a.jsx)(ae.a,{})}),Object(a.jsx)("h2",{className:"text-center",children:"Record Credits"})]}),Object(a.jsx)("form",{className:"container",onSubmit:function(e){e.preventDefault();var t,a={creditor:n,phone:d,timeToPay:k(p),amount:S,user_id:j};N((t=a,function(){var e=Object(m.a)(O.a.mark((function e(n){var a,s,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.post(C+"/credits",t,{headers:o});case 3:if(a=e.sent,s=a.data,c=Object.entries(s.message),!0!==s.error){e.next=10;break}return e.abrupt("return",D(s,c));case 10:400===s.status?i.a.warning(s.message):(n({type:he,payload:s}),i.a.success(s.message));case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),n({type:xe,payload:e.t0.message}),i.a.error("message",e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}()))},children:Object(a.jsxs)("ul",{className:"form-container",children:[Object(a.jsxs)("li",{children:[Object(a.jsx)("label",{htmlFor:"Creditor",children:"  Creditor "}),Object(a.jsx)("input",{type:"text",name:"creditor",id:"creditor",onChange:function(e){return c(e.target.value)},required:!0})]}),Object(a.jsxs)("li",{children:[Object(a.jsx)("label",{htmlFor:"phone",children:"  Phone "}),Object(a.jsx)("input",{type:"phone",name:"phone",id:"phone",onChange:function(e){return b(e.target.value)},required:!0})]}),Object(a.jsxs)("li",{children:[Object(a.jsx)("label",{htmlFor:"amount",children:" Amount "}),Object(a.jsx)("input",{type:"number",name:"amount",id:"amount",onChange:function(e){return E(e.target.value)},required:!0})]}),Object(a.jsxs)("li",{children:[Object(a.jsx)("label",{htmlFor:"timeToPay",children:" Payment Date "}),Object(a.jsx)("input",{type:"date",name:"timeToPay",id:"timeToPay",onChange:function(e){return f(e.target.value)},required:!0})]}),Object(a.jsx)("li",{children:Object(a.jsx)("button",{className:"button bg-primary",type:"submit",children:"SAVE Credit"})})]})})]})})};var Se=function(e){var t=Object(s.useState)(0),n=Object(X.a)(t,2),c=n[0],r=n[1],l=Object(s.useState)(1),j=Object(X.a)(l,2),d=j[0],b=j[1],h=Object(u.c)((function(e){return e.credits})),x=h.credits,p=h.creditsLoading,f=Object(u.b)();Object(s.useEffect)((function(){f(function(){var e=Object(m.a)(O.a.mark((function e(t){var n,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:Oe}),e.prev=1,e.next=4,g.a.get(C+"/credits",{headers:o});case 4:n=e.sent,a=n.data,t({type:me,payload:a}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t({type:Oe,payload:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}())}),[]);var y=0,v=Object(s.useState)(1),S=Object(X.a)(v,2),E=S[0],N=S[1],w=Object(s.useState)(7),_=Object(X.a)(w,1)[0];return p?Object(a.jsx)(Q,{}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("ul",{className:"aside sidemenu white-box",children:[Object(a.jsx)("li",{children:" Credits"}),Object(a.jsx)("li",{onClick:L,children:"Add Credits"})]}),Object(a.jsxs)("ul",{className:"container mr-3 white-box",children:[Object(a.jsxs)("table",{className:"f-w",id:"example",children:[Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"No"}),Object(a.jsx)("th",{children:"Creditor"}),Object(a.jsx)("th",{children:"phone"}),Object(a.jsx)("th",{children:"Amount"}),Object(a.jsx)("th",{children:"Current Payment"}),Object(a.jsx)("th",{children:"Remaining Days To pay"}),Object(a.jsx)("th",{children:"Actions"})]}),Object(a.jsx)("tbody",{children:x&&x.length>0&&se(x,E,_).map((function(e){return Object(a.jsxs)("tr",{children:[Object(a.jsxs)("td",{children:[" ",++y," "]}),Object(a.jsxs)("td",{children:[e.creditor," "]}),Object(a.jsxs)("td",{children:[e.phone," "]}),Object(a.jsxs)("td",{children:[e.amount," "]}),Object(a.jsxs)("td",{children:[" ",R(e.payedAmount)," "]}),Object(a.jsxs)("td",{children:[" ",e.remainingDays," "]}),Object(a.jsxs)("td",{children:[" ",Object(a.jsx)("button",{className:"button-sm",onClick:function(){return function(e){return T()?r(e.id):T()}(e)},children:"Edit"})," "]})]},e.id)}))})]}),Object(a.jsx)(ce,{dataPerPage:_,totalData:x.length,paginate:function(e){return N(e)}})]}),Object(a.jsx)(ve,{}),Object(a.jsxs)("div",{className:"modal-sm",children:[Object(a.jsx)("div",{className:"modal-content",children:Object(a.jsx)("form",{className:"form-container white-box",onSubmit:function(e){var t;A(),e.preventDefault(),f((t={credit_id:c,amount:d},function(){var e=Object(m.a)(O.a.mark((function e(n){var a,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.post(C+"/pay/credit",t,{headers:o});case 3:a=e.sent,s=a.data,n({type:fe,payload:s}),i.a.success(s.message),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),n({type:ye,payload:e.t0.message}),i.a.error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()))},children:Object(a.jsxs)("ul",{className:"form",children:[Object(a.jsxs)("li",{children:[Object(a.jsx)("label",{children:"Amount"}),Object(a.jsx)("input",{type:"text",name:"amountToPay",onChange:function(e){return b(e.target.value)}})]}),Object(a.jsx)("li",{children:Object(a.jsx)("button",{className:"btn-sm",type:"submit",children:"Pay"})})]})})}),","]})]})},Ee=n(113),Ne=n(114),Ce=function(){return null!==d?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("ul",{className:"menu-item",children:[Object(a.jsxs)("li",{children:[" ",Object(a.jsx)(h.b,{to:"credits",class:"menu",children:" Credits "})," "]}),Object(a.jsxs)("li",{children:[" ",Object(a.jsx)(h.b,{to:"debits",class:"menu",children:" Debits "}),"  "]}),Object(a.jsxs)("li",{children:[" ",Object(a.jsx)(h.b,{to:"expenses",class:"menu",children:" Expense "}),"  "]}),Object(a.jsxs)("li",{children:[" ",Object(a.jsx)(h.b,{to:"Income",class:"menu",children:" Income "}),"  "]})]}),Object(a.jsx)("ul",{className:"menu-item",children:Object(a.jsxs)("li",{children:[" ",Object(a.jsxs)(h.b,{to:"expenses",children:[" ",Object(a.jsx)(Ee.a,{onClick:P,className:"menu"})," "]})," "]})})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("ul",{className:"menu-item",children:Object(a.jsxs)("li",{children:[" ",Object(a.jsx)(h.b,{to:"/register",class:"menu",children:" Join"}),"   "]})}),Object(a.jsxs)("ul",{className:"menu-item",children:[" ",Object(a.jsxs)("li",{children:[Object(a.jsxs)(h.b,{to:"login",class:"menu",children:[" ",Object(a.jsx)(Ne.a,{})," "]}),"  "]})]})]})},we=function(){var e=Object(s.useState)(0),t=Object(X.a)(e,2),n=t[0],c=t[1],r=Object(s.useState)("Rwf"),l=Object(X.a)(r,2),d=l[0],b=l[1],h=Object(u.c)((function(e){return e.deposits})),x=h.error,p=(h.deposits,Object(u.b)());return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("ul",{children:x&&Object(a.jsxs)("div",{children:[" ",x]})}),Object(a.jsx)("ul",{className:"modal-content vh-center",children:Object(a.jsx)("form",{className:"form-container white-box",onSubmit:function(e){var t;e.preventDefault(),p((t={amount:n,currency:d,user_id:j},function(){var e=Object(m.a)(O.a.mark((function e(n){var a,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.post("".concat(C,"/deposit"),t,{headers:o});case 3:return a=e.sent,s=a.data,n({type:" INCOME_SAVE_SUCCESS ",payload:s}),e.abrupt("return",D(s,s.message));case 9:e.prev=9,e.t0=e.catch(0),i.a.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()))},children:Object(a.jsxs)("ul",{className:"form ",children:[Object(a.jsxs)("li",{children:[Object(a.jsx)("label",{children:"Amount"}),Object(a.jsx)("input",{type:"number",name:"amount",onChange:function(e){return c(e.target.value)},required:!0})]}),Object(a.jsxs)("li",{children:[Object(a.jsx)("label",{children:"Currecy"}),Object(a.jsx)("input",{type:"text",name:"currency",value:d,onChange:function(e){return b(e.target.value)},required:!0})]}),Object(a.jsx)("li",{children:Object(a.jsx)("button",{className:"btn-sm",type:"submit",children:"Record Income"})})]})})})]})};i.a.configure();var _e=function(e){return Object(a.jsx)(h.a,{children:Object(a.jsxs)("div",{className:"wrapper",children:[Object(a.jsxs)("header",{class:"header bg-primary",children:[Object(a.jsx)("ul",{className:"logo",children:Object(a.jsx)(h.b,{to:"/",className:"menu",children:"iManage"})}),Object(a.jsx)(Ce,{})]}),Object(a.jsxs)("main",{children:[Object(a.jsx)(ue.a,{path:"/",component:b,exact:"true"}),Object(a.jsx)(ue.a,{path:"/register",component:G}),Object(a.jsx)(ue.a,{path:"/login",component:H}),Object(a.jsx)(ue.a,{path:"/debits",component:re}),Object(a.jsx)(ue.a,{path:"/credits",component:Se}),Object(a.jsx)(ue.a,{path:"/expenses",component:be}),Object(a.jsx)(ue.a,{path:"/income",component:we})]}),Object(a.jsxs)("aside",{className:"sidebar",children:[Object(a.jsx)(ae.a,{onClick:P,size:32}),Object(a.jsx)("ul",{className:"menu-item",children:Object(a.jsx)("li",{className:"menu",onClick:function(){localStorage.clear("userInfo"),document.location.href="/homepage"},children:" logout"})})]}),Object(a.jsxs)("footer",{className:"bg-primary",children:["Developed By ",Object(a.jsx)("a",{href:"janvierdev.netlify.app",children:"  \xa9 Janvier"})]})]})})},Le=n(41),Ie=n(115),Pe=n(6),Te={expenses:[],loading:!1,error:null,expenseLoading:!1,expensesError:null},Ae={debits:[],isLoading:!1,error:null,debitsLoading:!1,debitsError:null,isPayLoading:!1,payError:null},De={credits:[],isLoading:!1,error:null,creditsLoading:!1,creditsError:null,isPayLoading:!1,payError:null},ke=(n(251).act,{loading:!1,deposits:[],error:null}),Re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INCOME_SAVE_SUCCESS":return{loading:!1,deposits:[].concat(Object(Pe.a)(e.deposits),[t.payload])};case"INCOME_SAVE_FAIL":return{loading:!1,error:t.payload};default:return e}},Fe=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Le.d,Ue=Object(Le.c)({userRegister:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return{loading:!0};case y:return{loading:!1,userInfo:t.payload};case v:return{loading:!1,error:t.payload};default:return e}},userLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return{isLoading:!0};case E:return{isLoading:!1,userInfo:t.payload};case N:return{isLoading:!1,error:t.payload};default:return e}},expenses:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case oe:return{loading:!0,expenses:[]};case je:return{loading:!1,expenses:t.payload};case de:return{loading:!1,error:t.payload};case ie:return console.log("data from reducer",t.payload),{expenseLoading:!1,expenses:[].concat(Object(Pe.a)(e.expenses),[t.payload])};case le:return{expenseLoading:!1,expensesError:t.payload};default:return e}},debits:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J:return{isLoading:!1,debits:[].concat(Object(Pe.a)(e.debits),[t.payload.debit])};case Z:return{isLoading:!1,error:t.payload};case K:return{debitsLoading:!0,debits:[]};case W:return{debitsLoading:!1,debits:t.payload};case $:return{debitsLoading:!1,debitsError:t.payload};case ee:return{isPayLoading:!0,debits:[]};case te:return{isPayLoading:!1,debits:e.debits};case ne:return{isPayLoading:!1,payError:t.payload};default:return e}},credits:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case he:return{isLoading:!1,credits:[].concat(Object(Pe.a)(e.credits),[t.payload.Credit])};case xe:return{isLoading:!1,error:t.payload};case Oe:return{creditsLoading:!0,credits:[]};case me:return{creditsLoading:!1,credits:t.payload};case pe:return{creditsLoading:!1,creditsError:t.payload.message};case ge:return{isPayLoading:!0,credits:[]};case fe:return{isPayLoading:!1,credits:e.credits};case ye:return{isPayLoading:!1,payError:t.payload};default:return e}},deposits:Re}),qe=Object(Le.e)(Ue,{},Fe(Object(Le.a)(Ie.a)));r.a.render(Object(a.jsx)(u.a,{store:qe,children:Object(a.jsx)(_e,{})}),document.getElementById("root"))}},[[253,1,2]]]);
//# sourceMappingURL=main.d324f49b.chunk.js.map